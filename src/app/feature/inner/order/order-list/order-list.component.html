<app-page-scroll-layout>

    <form [formGroup]="searchForm" autocomplete="off">
        <mat-card class="search-bar">
            <mat-card-content fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
                <mat-form-field appearance="legacy" class="search-box">
                    <mat-label>Customer Name</mat-label>
                    <input matInput formControlName="custName">
                    <button mat-button type="button" *ngIf="searchForm.value.custName !== ''" matSuffix mat-icon-button
                        aria-label="Clear" matTooltip="Clear" (click)="onClearSearch('custName')">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field appearance="legacy" class="search-box">
                    <mat-label>Phone</mat-label>
                    <input matInput formControlName="phone">
                    <button mat-button type="button" *ngIf="searchForm.value.phone !== ''" matSuffix mat-icon-button
                        aria-label="Clear" matTooltip="Clear" (click)="onClearSearch('phone')">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <mat-form-field appearance="legacy" class="search-box">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email">
                    <button mat-button type="button" *ngIf="searchForm.value.email !== ''" matSuffix mat-icon-button
                        aria-label="Clear" matTooltip="Clear" (click)="onClearSearch('email')">
                        <mat-icon>close</mat-icon>
                    </button>
                </mat-form-field>
                <div>
                    <button mat-raised-button [disabled]="searchForm.value.custName === '' 
                                && searchForm.value.phone === ''
                                && searchForm.value.email === ''" color="accent" class="btn-search"
                        (click)="onSearch()">
                        <mat-icon>search</mat-icon>
                    </button>
                </div>
                <mat-chip-list aria-label="Fish selection" *ngIf="searchCounter>0">
                    <mat-chip class="clear-search" (click)="onClearSearch()">
                        <mat-icon class="clear-search__icon">close</mat-icon>Clear All
                    </mat-chip>
                </mat-chip-list>
            </mat-card-content>
        </mat-card>
    </form>

    <app-order-list-table-view [searchCriteria]="this.searchForm.value" [searchCounter]="searchCounter">
    </app-order-list-table-view>

</app-page-scroll-layout>

<app-floating-add-button [text]="'New Order'" (onClick)="addNewOrder()">
</app-floating-add-button>